/* Специальные адаптивные стили для разных устройств */

/* ==================== УСТРОЙСТВА С МАЛЕНЬКИМ ЭКРАНОМ ==================== */

/* Телефоны в портретной ориентации (до 375px) */
@media (max-width: 374.98px) {
    /* Микро-настройки для самых маленьких экранов */
    .container {
        padding: 0 0.75rem;
    }
    
    .logo-text h1 {
        font-size: 1rem;
    }
    
    .nav-links a {
        font-size: var(--font-size-sm);
        padding: 0.25rem 0;
    }
    
    .auth-btn {
        padding: 0.375rem 0.75rem;
        font-size: var(--font-size-sm);
    }
    
    .product-card {
        margin: 0 -0.5rem;
    }
    
    .hero-title {
        font-size: 1.5rem;
    }
    
    .hero-subtitle {
        font-size: 0.875rem;
    }
    
    .modal-content {
        margin: 0.5rem;
    }
}

/* Телефоны (375px - 424px) */
@media (min-width: 375px) and (max-width: 424.98px) {
    .logo-text h1 {
        font-size: 1.125rem;
    }
    
    .hero-title {
        font-size: 1.75rem;
    }
}

/* ==================== ПЛАНШЕТЫ ==================== */

/* Планшеты в портретной ориентации (768px - 834px) */
@media (min-width: 768px) and (max-width: 834px) and (orientation: portrait) {
    .products-container {
        grid-template-columns: repeat(2, 1fr);
    }
    
    .hero-section {
        min-height: 40vh;
    }
    
    .user-menu {
        flex-direction: column;
        align-items: flex-start;
    }
}

/* Планшеты в альбомной ориентации (834px - 1024px) */
@media (min-width: 834px) and (max-width: 1024px) and (orientation: landscape) {
    .products-container {
        grid-template-columns: repeat(3, 1fr);
    }
    
    .hero-section {
        min-height: 60vh;
    }
}

/* iPad Pro 12.9" */
@media (width: 1024px) and (height: 1366px) {
    /* Специальные настройки для большого iPad */
    .container {
        max-width: 900px;
    }
    
    .products-container {
        grid-template-columns: repeat(3, 1fr);
    }
}

/* ==================== НОУТБУКИ ==================== */

/* Маленькие ноутбуки (1024px - 1280px) */
@media (min-width: 1024px) and (max-width: 1279.98px) {
    .container {
        max-width: 1000px;
    }
    
    .products-container {
        grid-template-columns: repeat(3, 1fr);
        gap: 1.25rem;
    }
    
    .product-card {
        transition: transform 0.2s ease;
    }
}

/* Стандартные ноутбуки (1280px - 1440px) */
@media (min-width: 1280px) and (max-width: 1439.98px) {
    .container {
        max-width: 1200px;
    }
}

/* ==================== БОЛЬШИЕ ЭКРАНЫ ==================== */

/* Мониторы 1440p (1440px - 1920px) */
@media (min-width: 1440px) and (max-width: 1919.98px) {
    .container {
        max-width: 1400px;
    }
    
    .products-container {
        grid-template-columns: repeat(4, 1fr);
        gap: 2rem;
    }
    
    .product-card {
        border-radius: var(--border-radius-lg);
    }
}

/* 4K мониторы и больше (1920px+) */
@media (min-width: 1920px) {
    .container {
        max-width: 1600px;
    }
    
    .products-container {
        grid-template-columns: repeat(5, 1fr);
        gap: 2.5rem;
    }
    
    .product-card {
        padding: 2rem;
    }
    
    .hero-title {
        font-size: 3.5rem;
    }
    
    .hero-subtitle {
        font-size: 1.5rem;
    }
}

/* ==================== ОСОБЫЕ УСТРОЙСТВА ==================== */

/* Складные телефоны (поверхностные) */
@media (max-width: 280px) {
    /* Для очень узких экранов */
    html {
        font-size: 12px;
    }
    
    .container {
        padding: 0 0.5rem;
    }
    
    .filter-buttons {
        gap: 0.25rem;
    }
    
    .filter-btn {
        padding: 0.5rem 0.75rem;
        font-size: 0.75rem;
    }
}

/* Высокие экраны (больше 800px по высоте) */
@media (min-height: 800px) {
    .hero-section {
        min-height: 70vh;
    }
    
    .modal-content {
        max-height: 80vh;
    }
}

/* Очень высокие экраны (больше 1080px по высоте) */
@media (min-height: 1080px) {
    .hero-section {
        min-height: 80vh;
    }
    
    .product-image {
        height: 250px;
    }
}

/* ==================== СПЕЦИАЛЬНЫЕ МЕДИА-ЗАПРОСЫ ==================== */

/* Для устройств с темной темой */
@media (prefers-color-scheme: dark) {
    :root {
        --starlight: #ffffff;
        --moon-gray: #cccccc;
    }
}

/* Для устройств с редуцированным движением */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
    
    html {
        scroll-behavior: auto;
    }
}

/* Для устройств с высокой плотностью пикселей (Retina) */
@media (-webkit-min-device-pixel-ratio: 2), (min-resolution: 192dpi) {
    .hero-section {
        background-image: linear-gradient(135deg, rgba(26, 26, 46, 0.9) 0%, rgba(13, 27, 42, 0.9) 100%),
                          url('imeges/космос-фон@2x.jpg');
    }
    
    .product-image img {
        image-rendering: -webkit-optimize-contrast;
        image-rendering: crisp-edges;
    }
}

/* Для устройств с тач-скрином */
@media (pointer: coarse) {
    /* Увеличиваем тач-таргеты для удобства */
    .btn,
    .filter-btn,
    .auth-btn,
    .add-to-cart,
    .quantity-btn,
    .remove-item {
        min-height: 44px;
        min-width: 44px;
    }
    
    .nav-links a {
        padding: 0.75rem 0;
    }
    
    .cart-icon {
        padding: 0.75rem;
    }
}

/* Для устройств с курсором (десктопы) */
@media (pointer: fine) {
    .product-card:hover .product-info {
        transform: translateY(-5px);
    }
}

/* ==================== АДАПТИВНЫЕ УТИЛИТЫ ==================== */

/* Классы для скрытия/показа элементов на разных устройствах */
.mobile-only {
    display: none !important;
}

.tablet-only {
    display: none !important;
}

.desktop-only {
    display: none !important;
}

/* Показать только на мобильных */
@media (max-width: 767.98px) {
    .mobile-only {
        display: block !important;
    }
    
    .desktop-hidden {
        display: none !important;
    }
}

/* Показать только на планшетах */
@media (min-width: 768px) and (max-width: 991.98px) {
    .tablet-only {
        display: block !important;
    }
    
    .mobile-hidden {
        display: none !important;
    }
}

/* Показать только на десктопах */
@media (min-width: 992px) {
    .desktop-only {
        display: block !important;
    }
    
    .mobile-hidden {
        display: none !important;
    }
}

/* Гамбургер-меню для мобильных */
.menu-toggle {
    display: none;
    background: none;
    border: none;
    color: var(--starlight);
    font-size: 1.5rem;
    cursor: pointer;
    padding: 0.5rem;
}

@media (max-width: 767.98px) {
    .menu-toggle {
        display: block;
    }
    
    .nav-links {
        display: none;
        flex-direction: column;
        position: absolute;
        top: 100%;
        left: 0;
        right: 0;
        background: var(--primary-color);
        padding: 1rem;
        box-shadow: var(--shadow-lg);
        z-index: 1000;
    }
    
    .nav-links.active {
        display: flex;
    }
    
    .nav-links a {
        padding: 0.75rem 0;
        border-bottom: 1px solid rgba(255, 255, 255, 0.1);
    }
    
    .nav-links a:last-child {
        border-bottom: none;
    }
}

/* Адаптивные таблицы */
.responsive-table {
    width: 100%;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
}

/* Плавная прокрутка для iOS */
.scroll-smooth {
    -webkit-overflow-scrolling: touch;
}

/* Фикс для 100vh на мобильных */
.full-height {
    height: 100vh;
    height: calc(var(--vh, 1vh) * 100);
}

/* Адаптивные отступы для безопасных зон (notch) */
.safe-area-padding {
    padding-top: env(safe-area-inset-top);
    padding-bottom: env(safe-area-inset-bottom);
    padding-left: env(safe-area-inset-left);
    padding-right: env(safe-area-inset-right);
}

/* ==================== СПЕЦИАЛЬНЫЕ КЛАССЫ ДЛЯ JAVASCRIPT ==================== */

/* Классы для управления видимостью через JS */
.is-mobile .desktop-element {
    display: none;
}

.is-tablet .mobile-element {
    display: none;
}

.is-desktop .mobile-element {
    display: none;
}

/* Состояния загрузки */
.loading::after {
    content: '';
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    z-index: 10;
}

/* Анимации для мобильных */
@media (max-width: 767.98px) {
    .slide-in-left {
        animation: slideInLeft 0.3s ease;
    }
    
    .slide-in-right {
        animation: slideInRight 0.3s ease;
    }
    
    @keyframes slideInLeft {
        from {
            opacity: 0;
            transform: translateX(-100%);
        }
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }
    
    @keyframes slideInRight {
        from {
            opacity: 0;
            transform: translateX(100%);
        }
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }
}